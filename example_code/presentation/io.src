//Energema - 15/04/2024 - IO

effect Read: unit -> i32;
effect Write: i32;

handler io() -> unit {
    Read(_: unit) {
        let r = nativeRead();
        nativeFlushStdin();
        continuation(r)
    },
    Write(value: i32) {
        nativeWrite(value);
        continuation()
    },
}

fn main() {
    with io() {
        let c = perform Read();
        perform Write(c);
        perform Write(10)
    }
}